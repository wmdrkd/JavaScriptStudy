<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h2>배열</h2>
  <script>
    console.error("일반적인 배열 사용");
    //배열을 생성과 동시에 초기화
    var arr = [1,2,3];
    //배열의 크기를 통해 반복
    for(var i=0; i<arr.length; i++){
      //인덱스를 통해 요소에 접근
      console.log('arr['+i+']', arr[i]);
    }

    /*
    pop()/push() : 배열의 마지막 부분의 요소를 삭제 혹은 추가한다.
    shift()/unshift() : 배열의 첫번째 요소를 삭제 혹은 추가한다.
    */
    console.error("pop()/push()와 shift()/unshift()");
    var arr2 = [10,20,30];
    arr2.pop(); //30삭제
    arr2.push("end"); //끝 부분에 문자열 추가
    console.log(arr2);
    arr2.shift(); //10을 삭제
    arr2.unshift("start"); //첫 부분에 문자열 추가
    console.log(arr2);

    /*
    splice() : 지정한 인덱스의 요소를 삭제하거나 추가하는 2가지 기능을 가진 함수
      형식] splice(시작인덱스, 삭제할요소의갯수, 추가1, 추가2,...N);
    */
    console.error("splice() 함수 사용하기");
    let arr3 = [1,5,7];
    //인덱스 1부터 삭제없이 2,3,4를 추가 -> (1, 2,3,4, 5, 7)
    arr3.splice(1,0,2,3,4);
    console.log(arr3);
    //인덱스 1부터 2개의 요소 삭제 -> (1, 4, 5, 7)
    arr3.splice(1,2);
    console.log(arr3);
    //인덱스 0부터 삭제없이 50, 51 추가 -> (50,51, 1, 4, 5, 7)
    arr3.splice(0,0,50,51);
    console.log(arr3);
    //인덱스 2부터 삭제없이 요소 추가 -> (50,51, 52,53,54,55, 1, 4, 5, 7)
    arr3.splice(2,0,52,53,54,55);
    console.log(arr3);  

    /*
    Array.from() : 기존의 배열을 새로운 배열로 복사하거나, 함수에서 사용하는 경우 인수를 통해 생성된
                  '유사배열'을 실제 배열로 변경해준다.
    */
    console.error("Array.from() 사용하기");
    function fromFunction(){
      /*
      arguments : 함수 호출시 전달되는 인수들을 하나로 묶어 생성되는 유사배열객체.
                  배열과 비슷하지만 실제 배열은 아니므로 배열함수를 사용하면 에러가 발생한다.
      */
      console.log('arguments', arguments);
      //유사배열객체에는 배열 함수를 사용할 수 없다.
      //arguments.push(101);
      //유사배열을 실제 사용 가능한 배열로 변경한다.
      var newArr1 = Array.from(arguments);
      newArr1.push(101);
      console.log('newArr1',newArr1);
    }
    fromFunction(98,99,100);

    /*
    JavaScript에서는 함수, 배열 등을 모두 객체로 처리한다.
    따라서 실행시 메모리에 생성되어 참조값을 가지게 된다.
    */
    //원본 배열 생성(주소값 -> 0x001)
    let arr4 = [3,6,9];
    //얕은 복사로 새로운 배열 생성(주소값 : 0x002)
    let newArr2 = Array.from(arr4);
    //참조 복사로 동일한 배열 참조(주소값 : 0x001)
    let newArr3 = arr4;

    console.warn("얕은복사");
    //복사본 배열에 12추가
    newArr2.push(12);
    //복사본인 newArr2에만 추가되고..
    console.log('newArr2',newArr2);
    //원본에는 추가되지 않는다. 즉 서로 다른 배열이다.
    console.log('arr4',arr4);

    console.warn("참조복사");
    //참조복사한 배열에 12를 추가
    newArr3.push(12);
    //복사본과 원본에 동시에 추가된다. 즉, 같은 배열이다.
    console.log('newArr3',newArr3);
    console.log('arr4',arr4);
  </script>
</body>
</html>